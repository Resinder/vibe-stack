# ============================================================================
# Vibe Stack - Environment Configuration
# ============================================================================
# ⚠️  SECURITY WARNING: Copy this file to .env and change ALL passwords!
#    The defaults below are INSECURE and must be changed before deployment.
#    Never commit .env to version control (already in .gitignore)
# ============================================================================

# ============================================================================
# CODE-SERVER CONFIGURATION
# ============================================================================
# code-server provides browser-based VS Code access
# Access at: http://localhost:8443

# ⚠️  CHANGE THIS PASSWORD! Run: openssl rand -base64 16
CODE_SERVER_PASSWORD=CHANGE_THIS_PASSWORD_RUN_openssl_rand_base64_16

# ============================================================================
# ANTHROPIC CLAUDE API CONFIGURATION
# ============================================================================
# Configure these in agents/claude/settings.json (not here)
# These are documented here for reference only.

# Standard Anthropic Claude API (default)
# ANTHROPIC_AUTH_TOKEN=sk-ant-xxxxx
# ANTHROPIC_BASE_URL=https://api.anthropic.com
# API_TIMEOUT_MS=3000000

# ============================================================================
# ALTERNATIVE LLM PROVIDERS - GLM-4 / Z.AI
# ============================================================================
# To use GLM-4 models via z.ai proxy, configure agents/claude/settings.json:
#
# {
#   "env": {
#     "ANTHROPIC_AUTH_TOKEN": "your-z-ai-api-key",
#     "ANTHROPIC_BASE_URL": "https://api.z.ai/api/anthropic",
#     "API_TIMEOUT_MS": "3000000",
#     "ANTHROPIC_DEFAULT_HAIKU_MODEL": "glm-4.5-air",
#     "ANTHROPIC_DEFAULT_SONNET_MODEL": "glm-4.7",
#     "ANTHROPIC_DEFAULT_OPUS_MODEL": "glm-4.7"
#   }
# }
#
# Model Mapping:
#   Claude Haiku  -> glm-4.5-air (fast, cost-effective)
#   Claude Sonnet -> glm-4.7 (balanced)
#   Claude Opus   -> glm-4.7 (highest quality)

# ============================================================================
# SERVICE PORT CONFIGURATION
# ============================================================================

# Vibe-Kanban primary port
VIBE_PORT=4000

# code-server port
CODE_SERVER_PORT=8443

# Dev server port range (for projects in /repos)
DEV_PORT_START=3000
DEV_PORT_END=3100

# ============================================================================
# DOCKER RESOURCE LIMITS (OPTIONAL)
# ============================================================================
# Override docker-compose.yml resource constraints if needed
# Uncomment and adjust based on your host system capabilities.

# Vibe-Kanban resource limits
# VIBE_CPU_LIMIT=2.0
# VIBE_MEMORY_LIMIT=2G
# VIBE_CPU_RESERVATION=0.5
# VIBE_MEMORY_RESERVATION=512M

# code-server resource limits
# CODE_CPU_LIMIT=1.0
# CODE_MEMORY_LIMIT=1G
# CODE_CPU_RESERVATION=0.25
# CODE_MEMORY_RESERVATION=256M

# ============================================================================
# INTEGRATION PLACEHOLDERS (FUTURE ROADMAP)
# ============================================================================

# OpenAI API (for GPT-4 integration)
# OPENAI_API_KEY=sk-openai-xxxxx
# OPENAI_BASE_URL=https://api.openai.com/v1

# Google AI (for Gemini integration)
# GOOGLE_API_KEY=xxxxx
# GOOGLE_BASE_URL=https://generativelanguage.googleapis.com/v1

# Azure OpenAI
# AZURE_OPENAI_API_KEY=xxxxx
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_VERSION=2024-02-15-preview

# AWS Bedrock
# AWS_ACCESS_KEY_ID=AKIAxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxx
# AWS_REGION=us-east-1

# GitHub Integration (for repo operations)
# GITHUB_TOKEN=ghp_xxxxx
# GITHUB_USERNAME=your-username

# GitLab Integration
# GITLAB_TOKEN=glpat-xxxxx
# GITLAB_URL=https://gitlab.com

# ============================================================================
# POSTGRESQL DATABASE (Primary Storage Backend)
# ============================================================================
# ⚠️  CHANGE THESE PASSWORDS! Generate secure passwords with:
#   openssl rand -base64 16

# PostgreSQL credentials
POSTGRES_USER=vibeuser
POSTGRES_PASSWORD=CHANGE_THIS_GENERATE_WITH_openssl_rand_base64_16
POSTGRES_DB=vibestack

# Optional: Custom encryption key for stored credentials
# Run: openssl rand -base64 48
# CREDENTIAL_ENCRYPTION_KEY=CHANGE_THIS_GENERATE_WITH_openssl_rand_base64_48

# ============================================================================
# MONITORING STACK (Grafana)
# ============================================================================
# ⚠️  CHANGE THIS PASSWORD!
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_GENERATE_WITH_openssl_rand_base64_16

# ============================================================================
# CREDENTIAL SECURITY (CRITICAL)
# ============================================================================
# Encryption key for storing user credentials (GitHub tokens, etc.)
# CRITICAL: Generate a secure random key for production!
# Use: openssl rand -base64 48
# Or: node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
# Minimum 32 characters (64 bytes recommended)
# CREDENTIAL_ENCRYPTION_KEY=your-64-byte-random-base64-string-here-change-me

# Salt for credential encryption key derivation (optional, uses default if not set)
# Generate with: openssl rand -base64 32
# CREDENTIAL_ENCRYPTION_SALT=your-random-salt-string-here

# PostgreSQL Connection Pool Configuration
PGPOOL_MAX=20
PGPOOL_IDLE=30000
PGPOOL_CONNECTION_TIMEOUT=10000

# Cache Configuration (for PostgreSQL storage caching)
CACHE_TTL=5000
CACHE_MAX_SIZE=100

# Alternative: Redis for distributed caching (future)
# REDIS_URL=redis://localhost:6379

# ============================================================================
# EXTERNAL MCP SERVERS
# ============================================================================
# Enable external MCP server connections
# MCP_EXTERNAL_ENABLED=false

# GitHub MCP Server (Official)
# GITHUB_MCP_TOKEN=ghp_xxxxx

# PostgreSQL MCP Server (Official)
# POSTGRES_MCP_ENABLED=false
# POSTGRES_MCP_CONNECTION_STRING=postgresql://vibeuser:vibepass@localhost:5432/vibestack

# Slack MCP Server (Official)
# SLACK_MCP_ENABLED=false
# SLACK_MCP_TOKEN=xoxb-xxxxx
# SLACK_MCP_DEFAULT_CHANNEL=#general

# Brave Search MCP Server (Official - Free)
# BRAVE_SEARCH_MCP_ENABLED=false
# BRAVE_SEARCH_API_KEY=your-brave-api-key-optional
# Get free API key: https://api.search.brave.com/app/keys

# Tavily Search MCP Server (Official - Paid, AI-Optimized)
# TAVILY_SEARCH_MCP_ENABLED=false
# TAVILY_API_KEY=your-tavily-api-key
# Pricing: $5/month for 1,000 searches
# Sign up: https://tavily.com

# Exa AI Search MCP Server (Official - Paid, AI-Optimized with Embeddings)
# EXA_SEARCH_MCP_ENABLED=false
# EXA_API_KEY=your-exa-api-key
# Pricing: Free 1000/month, $25/month for 10,000
# Sign up: https://dashboard.exa.ai

# Google Drive MCP Server (Official - Free with Storage)
# GOOGLE_DRIVE_MCP_ENABLED=false
# GOOGLE_DRIVE_CREDENTIALS='{"type":"service_account",...}'
# Setup: https://developers.google.com/drive/api/quickstart/js

# Google Maps MCP Server (Official - Paid with Free Credits)
# GOOGLE_MAPS_MCP_ENABLED=false
# GOOGLE_MAPS_API_KEY=your-google-maps-api-key
# Free tier: $200 credit/month
# Get key: https://developers.google.com/maps/documentation/javascript/get-api-key

# Puppeteer MCP Server (Official - Free, Browser Automation)
# PUPPETEER_MCP_ENABLED=false
# No API key required - headless browser automation
# Use for: Screenshots, PDF generation, web scraping, E2E testing

# Fetch MCP Server (Official - Free, HTTP Client)
# FETCH_MCP_ENABLED=false
# No API key required - make HTTP requests to any API
# Use for: API integration, webhooks, testing, data retrieval

# Memory MCP Server (Official - Free, Persistent Context)
# MEMORY_MCP_ENABLED=false
# No API key required - local file-based persistent memory
# Use for: Context retention, user preferences, conversation history

# ============================================================================
# DEVELOPMENT OPTIONS
# ============================================================================

# Enable debug logging
# DEBUG=false
# VERBOSE=false

# Enable automatic dependency installation on container start
# AUTO_INSTALL_DEPS=true

# Health check interval (seconds)
# HEALTH_CHECK_INTERVAL=30

# Container restart policy (unless-stopped, always, on-failure)
# RESTART_POLICY=unless-stopped
